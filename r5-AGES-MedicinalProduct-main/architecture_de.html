<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Architektur - Österreichischer e-Health-Terminologie-Browser v2.7.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
      <!-- Placeholder for child template CSS declarations -->

    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="fhir-logo" href="assets/ico/icon-fhir-144.png"/>
    <link sizes="114x114" rel="fhir-logo" href="assets/ico/icon-fhir-114.png"/>
    <link sizes="72x72" rel="fhir-logo" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3"}
    h3,h4,h5,h6{--heading-prefix:"3"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Österreichischer e-Health-Terminologie-Browser</span>
            <br/>
            <span style="display:inline-block;">2.7.0 - TerminoloGit


            </span>
          </p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://hl7.org/fhir/R4B/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="index.html">Home</a>
  </li>
  <li>
    <a href="artifacts.html">Artifacts Summary</a>
  </li>
  <li>
    <a href="support_de.html">Support &amp; Imprint</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><b>Architektur</b></li>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">Österreichischer e-Health-Terminologie-Browser - Local Development build (v2.7.0) built by the FHIR (HL7&reg; FHIR&reg; Standard) Build Tools. See the <a href="TERMGIT_CANONICAL/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>Architektur</h2>
  












    <p>  <!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#terminologit-und-seine-komponenten" id="markdown-toc-terminologit-und-seine-komponenten">TerminoloGit und seine Komponenten</a></li>
  <li><a href="#struktur-des-repositorys" id="markdown-toc-struktur-des-repositorys">Struktur des Repositorys</a></li>
  <li><a href="#cicd-ablauf" id="markdown-toc-cicd-ablauf">CI/CD-Ablauf</a></li>
  <li><a href="#fully-dressed-use-case-diagram" id="markdown-toc-fully-dressed-use-case-diagram">Fully dressed use case diagram</a></li>
</ul>

</div>
<blockquote>
  <p><strong><a name="l252">​</a>For the english version please click <a href="architecture_en.md">here</a>.</strong></p>
</blockquote>

<p>Zum besseren Verständnis der Architektur von TerminoloGit werden Grundkenntnisse in den folgenden Technologien und/oder Systemen vorausgesetzt:</p>
<ul>
  <li>Git
    <ul>
      <li>Branching and merging</li>
      <li>Tags</li>
      <li>Git logs</li>
    </ul>
  </li>
  <li>GitLab
    <ul>
      <li>Merge requests</li>
      <li>CI/CD</li>
    </ul>
  </li>
  <li>HL7&reg; FHIR&reg;
    <ul>
      <li>REST API</li>
    </ul>
  </li>
  <li>HL7&reg; FHIR&reg; IG Publisher</li>
</ul>

<h3 id="terminologit-und-seine-komponenten">TerminoloGit und seine Komponenten</h3>

<p>TerminoloGit ist ein Open Source Projekt, das aus mehreren interagierenden Repositories besteht und von der österreichischen ELGA GmbH initiiert wurde.</p>

<ul>
  <li><a href="https://gitlab.com/elga-gmbh/termgit-dev">TerminoloGit Dev</a></li>
  <li><a href="https://gitlab.com/elga-gmbh/terminologit-dev-html">TerminoloGit Dev HTML</a> - Hostet statische HTML-Seiten, die die Versionierung von Terminologien ermöglichen.</li>
  <li><a name="l321">​</a><a href="https://gitlab.com/elga-gmbh/malac-ct">MaLaC-CT (auch Standalone)</a> - Konvertiert zwischen unterstützten <a href="file_formats_de.md">Dateiformaten</a>.</li>
  <li><a href="https://gitlab.com/elga-gmbh/terminologit-template">TerminoloGit Template</a> - Formatiert statische HTML-Seiten.</li>
  <li><a href="https://gitlab.com/elga-gmbh/docker/fsh-ing-grounds">fsh-ing-grounds</a> oder <a href="https://hub.docker.com/r/elgagmbh/fsh-ing-grounds">docker image elgagmbh/fsh-ing-grounds</a> - Docker-Image, das für die Ausführung des <a href="https://github.com/HL7/fhir-ig-publisher">HL7&reg; FHIR&reg; IG Publisher</a> vorbereitet ist</li>
  <li><em>external</em> <a href="https://github.com/HL7/fhir-ig-publisher">HL7&reg; FHIR&reg; IG Publisher</a> - Wird verwendet, um statische HTML-Seiten zu erzeugen.</li>
</ul>

<h4 id="terminologit-und-fhir-server">TerminoloGit und FHIR&reg; Server</h4>

<p>Soll TerminoloGit in Verbindung mit einem FHIR&reg; Server eingesetzt werden, so bietet sich das Projekt <a href="https://gitlab.com/elga-gmbh/terminologit-tergi">TerminoloGit tergi</a> an, das die Einrichtung eines vollwertigen FHIR&reg; Servers ergänzt durch ein leichtgewichtiges Git Repository ermöglicht.</p>

<h3 id="struktur-des-repositorys">Struktur des Repositorys</h3>

<p>In diesem Kapitel wird kurz die Struktur eines TerminoloGit-Repositorys erläutert:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">.</code> - enthält die <code class="language-plaintext highlighter-rouge">README</code>, den <code class="language-plaintext highlighter-rouge">CODE_OF_CONDUCT</code>, das <code class="language-plaintext highlighter-rouge">CONTRIBUTING</code>, das <code class="language-plaintext highlighter-rouge">CHANGELOG</code>, die <code class="language-plaintext highlighter-rouge">LICENSE</code>, sowie eine Menge Skripte, die während eines Pipeline-Laufs verwendet werden.</li>
  <li><code class="language-plaintext highlighter-rouge">input/files/</code> - enthält einige Vorlagen, die für die Erstellung von Terminologie verwendet werden.</li>
  <li><code class="language-plaintext highlighter-rouge">input/fsh/</code> - wird beibehalten, um TerminoloGit-Benutzern mitzuteilen, dass keine <code class="language-plaintext highlighter-rouge">fsh</code>-Dateien in diesem Verzeichnis abgelegt werden sollen.</li>
  <li><code class="language-plaintext highlighter-rouge">input/images/</code> - Bilder, die in der Dokumentation verwendet werden.</li>
  <li><code class="language-plaintext highlighter-rouge">input/includes/</code> - für jede Terminologie wird ein Fragment für ihre Downloads und ihre früheren Versionen in diesem Verzeichnis bereitgestellt. Diese Fragmente werden später von der TerminoloGit-Vorlage verarbeitet.</li>
  <li><code class="language-plaintext highlighter-rouge">input/pagecontent/</code> - mehrere Markdown-Dateien, die die Dokumentation von TerminoloGit bilden.</li>
  <li><code class="language-plaintext highlighter-rouge">input/redirects/</code> - für jede Terminologie existiert eine redirects-Datei, die den Zugriff auf die Terminologien auf der Grundlage ihres kanonischen Namens ermöglicht.</li>
  <li><code class="language-plaintext highlighter-rouge">input/resources/</code> - FHIR&reg;-Ressourcen, die nicht von MaLaC-CT verarbeitet werden sollen, werden in diesem Verzeichnis abgelegt, z.B. ConceptMaps oder intensionale ValueSets.</li>
  <li><code class="language-plaintext highlighter-rouge">input/sitemap/</code> - Meta-Informationen für Web-Crawler, wo die Sitemap zu finden ist und welche Seiten indiziert werden sollen.</li>
  <li><code class="language-plaintext highlighter-rouge">terminologies/</code> - für jede Terminologie existiert ein Verzeichnis (Muster <code class="language-plaintext highlighter-rouge">[CodeSystem | ValueSet]-[id]</code>). Außerdem enthält es die <code class="language-plaintext highlighter-rouge">terminologiesMetadata.csv</code>.</li>
</ul>

<p>Die Datei <code class="language-plaintext highlighter-rouge">terminologies/terminologiesMeta.csv</code> enthält einige wichtige Meta-Informationen über alle Terminologien, die von TerminoloGit verwaltet werden:</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <code class="language-plaintext highlighter-rouge">[CodeSystem | ValueSet]-[id]</code></li>
  <li><code class="language-plaintext highlighter-rouge">canonical</code> - <code class="language-plaintext highlighter-rouge">[TERMGIT_CANONICAL]/[CodeSystem | ValueSet]/[id]</code></li>
  <li><code class="language-plaintext highlighter-rouge">oid</code> - OID der Terminologie</li>
  <li><code class="language-plaintext highlighter-rouge">version</code> - Version der Terminologie</li>
  <li><code class="language-plaintext highlighter-rouge">id</code> - die <code class="language-plaintext highlighter-rouge">id</code> der Terminologie</li>
  <li><code class="language-plaintext highlighter-rouge">typ</code> - <code class="language-plaintext highlighter-rouge">[CodeSystem | ValueSet]</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">metadata-change-timestamp</code> - der Zeitpunkt der letzten Änderung der Terminologie-Metadaten</li>
</ol>

<h3 id="cicd-ablauf">CI/CD-Ablauf</h3>

<p>Die CI/CD-Pipeline in TerminoloGit besteht aus mehreren Phasen und den dazugehörigen Jobs und ist wie folgt aufgebaut. Bitte beachten Sie, dass weder alle Phasen noch alle Jobs in jeder Pipeline ausgeführt werden, sondern dass Regeln bestimmen, welche ausgeführt werden.</p>
<ul>
  <li>Stage <code class="language-plaintext highlighter-rouge">manual_trigger</code>
    <ul>
      <li>Job <code class="language-plaintext highlighter-rouge">manual_trigger</code> - Ein manueller Auslöser zum Starten der Pipeline in anderen braches als dem Standardbranch. Auf dem Standardbranch wird die Pipeline automatisch gestartet, wenn neue Commits erfolgen.</li>
    </ul>
  </li>
  <li>Stage <code class="language-plaintext highlighter-rouge">check_variables</code>
    <ul>
      <li>Job <code class="language-plaintext highlighter-rouge">check_variables</code> - Überprüft, ob die erforderlichen Umgebungsvariablen gesetzt sind.</li>
    </ul>
  </li>
  <li>Stage <code class="language-plaintext highlighter-rouge">run_malac-ct</code> - Abhängig von den Umständen wird einer der folgenden Jobs ausgeführt.
    <ul>
      <li>Job <code class="language-plaintext highlighter-rouge">run_malac-ct</code> - Dieser Job erkennt automatisch neue/aktualisierte Terminologien im Verzeichnis <code class="language-plaintext highlighter-rouge">terminologies/</code> und konvertiert sie mit Hilfe von MaLaC-CT in alle Dateiformate.</li>
      <li>Job <code class="language-plaintext highlighter-rouge">run_malac-ct_integration_test</code> - Dieser Job ist nicht Teil der Standard-Pipeline in einem TerminoloGit-Projekt. Er kann aus einem MaLaC-CT-Repository heraus ausgelöst werden und wird dann anstelle des üblichen <code class="language-plaintext highlighter-rouge">run_malac-ct</code> ausgeführt. Er konvertiert alle vorhandenen Terminologien eines bestimmten TerminoloGit-Repositorys unter Verwendung eines bestimmten Dateiformats als Quelle.</li>
      <li>Job <code class="language-plaintext highlighter-rouge">skip_malac-ct</code> - Dieser Job kann ausgelöst werden, wenn ein Commit mit <code class="language-plaintext highlighter-rouge">SKIP_MALAC</code> vorangestellt wird. Infolgedessen wird keine Terminologie von MaLaC-CT verarbeitet. <em>Bitte beachten Sie, dass neue Geschäftsversionen/business versions in diesem Fall NICHT erkannt werden.</em></li>
    </ul>
  </li>
  <li>Stage <code class="language-plaintext highlighter-rouge">run_ig</code>
    <ul>
      <li>Job <code class="language-plaintext highlighter-rouge">run_ig</code> - Dieser Job kümmert sich um die Erstellung früherer Versionen (außer für Pipelines, die mit einem <code class="language-plaintext highlighter-rouge">SKIP_MALAC</code> Commit gestartet wurden) und startet den HL7&reg; FHIR&reg; IG Publisher, der die statischen HTML-Seiten erstellt.</li>
    </ul>
  </li>
  <li>Stufe <code class="language-plaintext highlighter-rouge">update_html</code> - Auf dem Standard-Branch wird immer <code class="language-plaintext highlighter-rouge">update_html_full_content</code> ausgeführt. Auf anderen Branches wird <code class="language-plaintext highlighter-rouge">update_html_with_diff</code> ausgeführt.
    <ul>
      <li>Job <code class="language-plaintext highlighter-rouge">update_html_full_content</code> - Das Ergebnis von <code class="language-plaintext highlighter-rouge">run_ig</code> wird den <code class="language-plaintext highlighter-rouge">TERMGIT_HTML_PROJECT_DEFAULT_BRANCH</code> innerhalb des <code class="language-plaintext highlighter-rouge">TERMGIT_HTML_PROJECT</code> Projektes aktualisieren.</li>
      <li>Job <code class="language-plaintext highlighter-rouge">update_html_with_diff</code> - Das Ergebnis von <code class="language-plaintext highlighter-rouge">run_ig</code> wird in das <code class="language-plaintext highlighter-rouge">TERMGIT_HTML_PROJECT</code> gepusht. Der Name des Branches ist derselbe wie im TerminoloGit-Projekt.</li>
    </ul>
  </li>
  <li>Stage <code class="language-plaintext highlighter-rouge">publish</code> - Die folgenden Jobs laufen parallel.
    <ul>
      <li>Job <code class="language-plaintext highlighter-rouge">pages</code> - Aktualisiert die GitLab-Seiten des TerminoloGit-Projekts.</li>
      <li>Job <code class="language-plaintext highlighter-rouge">upload_input_resources</code> - Lädt alle Ressourcen im Verzeichnis <code class="language-plaintext highlighter-rouge">input/resources/</code> auf die angegebenen FHIR&reg;-Server hoch.</li>
    </ul>
  </li>
</ul>

<p>Im Folgenden werden die drei häufigsten Abläufe der CI/CD-Pipeline visualisiert. Details finden Sie in der Datei <code class="language-plaintext highlighter-rouge">.gitlab-ci.yml</code>.</p>

<h4 id="standard-terminologiepflege">Standard Terminologiepflege</h4>

<p><a name="l670">​</a><a href="input/images/CICD_standard.drawio.png"><a name="l671">​</a><img src="input/images/CICD_standard.drawio.png" alt="CI-CD-Standard" style="width: 100%"/></a></p>

<h4 id="integrationstest">Integrationstest</h4>

<p><a name="l677">​</a><a href="input/images/CICD_integration_test.drawio.png"><a name="l678">​</a><img src="input/images/CICD_integration_test.drawio.png" alt="CI-CD-integration-test" style="width: 100%"/></a></p>

<h4 id="skip_malac">SKIP_MALAC</h4>

<p><a name="l684">​</a><a href="input/images/CICD_skip_malac.drawio.png"><a name="l685">​</a><img src="input/images/CICD_skip_malac.drawio.png" alt="CI-CD-skip-malac" style="width: 100%"/></a></p>

<h3 id="fully-dressed-use-case-diagram">Fully dressed use case diagram</h3>

<p>Das gesamte Konzept wird in einem fully dressed use case diagram dargestellt, unter dem die schriftlichen Anwendungsfälle auf Unterfunktions-/Fischebene zu finden sind. Bitte beachten Sie, dass dieses Diagramm nicht vollständig mit dem Cockburn-Diagramm für fully dressed use case diagram konform ist. Es wurden ein paar Änderungen vorgenommen, um alle benötigten Informationen in einem Diagramm darzustellen.</p>

<p><a name="l694">​</a><a href="input/images/FullyDressedUseCaseDiagramm.drawio.png"><a name="l695">​</a><img src="input/images/FullyDressedUseCaseDiagramm.drawio.png" alt="fully dressed use case diagram" style="width: 100%"/></a></p>

<p><strong>Parameter für alle Use Cases:</strong></p>

<ol>
  <li><strong>Akteure:</strong>
    <ul>
      <li>es wird nur zwischen GitLab-Rollen und dem GitLab-Dienst selbst unterschieden, zusätzliche Rollen können pro Governance in jedem Produktionssystem festgelegt werden</li>
    </ul>
  </li>
  <li><strong>Geltungsbereich:</strong>
    <ul>
      <li>eine Terminologie wie ein Codesystem oder ein Value-Set</li>
    </ul>
  </li>
  <li><strong>Ebene:</strong>
    <ul>
      <li>Unterfunktion/Fisch</li>
    </ul>
  </li>
</ol>

<h4 id="1-konto-erstellen-authentifizieren-und-autorisieren">#1 Konto erstellen, authentifizieren und autorisieren</h4>

<ol>
  <li><strong>Akteure:</strong>
    <ul>
      <li>Gast (Mensch)</li>
      <li>Dienst (Maschine)</li>
    </ul>
  </li>
  <li><strong>Kurzbeschreibung:</strong> Ein Gast benötigt ein GitLab-Konto für spezielle Interaktionen (z. B. das Abonnieren eines Tags einer Terminologie über GitLab) und erstellt eines über GitLab.</li>
  <li><strong>Postkonditionen:</strong>
    <ol>
      <li><strong>Minimalgarantien:</strong> keine</li>
      <li><strong>Erfolgsgarantien:</strong>
        <ul>
          <li>Es wurde ein Benutzerkonto erstellt</li>
        </ul>
      </li>
    </ol>
  </li>
  <li><strong>Voraussetzungen:</strong>
    <ul>
      <li>Die für TerminoloGit benötigten GitLab-Projekte wurden erstellt</li>
    </ul>
  </li>
  <li><strong>Auslöser:</strong>
    <ul>
      <li>Ein Gast möchte eine spezielle Interaktion durchführen</li>
    </ul>
  </li>
  <li><strong>Grundlegender Ablauf:</strong>
    <ol>
      <li>Anlegen eines Kontos auf GitLab und ggf. Beantragung individueller Berechtigungen</li>
      <li>Anmeldung bei GitLab</li>
    </ol>
  </li>
  <li><strong>Erweiterungen:</strong> keine</li>
  <li><strong>Software:</strong>
    <ul>
      <li>Jeder Browser</li>
    </ul>
  </li>
  <li><strong>Hardware:</strong>
    <ul>
      <li>Jeder Client mit einem Browser</li>
    </ul>
  </li>
  <li><strong>Dienste:</strong>
    <ul>
      <li>GitLab.com oder eigenes GitLab CE Hosting</li>
    </ul>
  </li>
</ol>

<h4 id="2-abonnement">#2 Abonnement</h4>

<ol>
  <li><strong>Akteure:</strong>
    <ul>
      <li>Dienst (Maschine)</li>
      <li>Abonnent (Mensch - ein Gast, der einige Terminologien abonniert hat)</li>
    </ul>
  </li>
  <li><strong>Kurzbeschreibung:</strong> Die Abonnenten werden automatisch per E-Mail informiert, weil eine neue oder bearbeitete Terminologiedatei veröffentlicht wurde.</li>
  <li><strong>Postkonditionen:</strong>
    <ol>
      <li><strong>Minimalgarantien:</strong> keine</li>
      <li><strong>Erfolgsgarantien:</strong>
        <ul>
          <li>Ein Teilnehmer wird über eine neue Terminologie informiert</li>
        </ul>
      </li>
    </ol>
  </li>
  <li><strong>Voraussetzungen:</strong>
    <ul>
      <li>Ein Gast hat das GitLab-Projekt TerminoloGit abonniert</li>
    </ul>
  </li>
  <li><strong>Auslöser:</strong>
    <ul>
      <li>Eine Terminologie wurde hinzugefügt oder aktualisiert</li>
    </ul>
  </li>
  <li><strong>Grundlegender Ablauf:</strong>
    <ol>
      <li>GitLab sendet die Änderung an alle Abonnenten</li>
    </ol>
  </li>
  <li><strong>Erweiterungen:</strong> keine</li>
  <li><strong>Software:</strong>
    <ul>
      <li>Jedes E-Mail-Programm</li>
    </ul>
  </li>
  <li><strong>Hardware:</strong>
    <ul>
      <li>Jeder Client mit einem E-Mail-Programm</li>
    </ul>
  </li>
  <li><strong>Dienste:</strong>
    <ul>
      <li>GitLab zum Versenden der Änderung an die Abonnenten</li>
    </ul>
  </li>
</ol>

<h4 id="3-verwendung-von-fhir-ig-und-fhir-tx">#3 Verwendung von FHIR&reg; IG und FHIR-tx</h4>

<ol>
  <li><strong>Akteure:</strong>
    <ul>
      <li>Gast (Mensch oder Maschine)</li>
      <li>Service (Maschine)</li>
    </ul>
  </li>
  <li><strong>Kurzbeschreibung:</strong> Eine Terminologie wie ein Codesystem oder ein Value-Set wird über die GitLab GUI, TerminoloGit GUI, GitLab REST API oder FHIR-tx REST API Schnittstelle abgefragt</li>
  <li><strong>Postconditions:</strong>
    <ol>
      <li><strong>Minimalgarantien:</strong> keine</li>
      <li><strong>Erfolgsgarantien:</strong>
        <ul>
          <li>wenn die gesuchte Terminologie existiert
            <ul>
              <li>Empfangen einer Terminologie</li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>
  </li>
  <li><strong>Voraussetzungen:</strong>
    <ul>
      <li>Das TerminoloGit GitLab Projekt existiert</li>
      <li>Die FHIR&reg; IG ist veröffentlicht</li>
      <li>Die FHIR-tx ist auf dem neuesten Stand</li>
    </ul>
  </li>
  <li><strong>Auslöser:</strong>
    <ul>
      <li>Eine Terminologie muss abgerufen werden</li>
    </ul>
  </li>
  <li><strong>Grundlegender Ablauf:</strong>
    <ol>
      <li>Durch Aufrufen der FHIR&reg; IG-Website erhält ein Gast ein durchsuchbares Format aller Terminologien mit der Möglichkeit, sie in einem beliebigen Format herunterzuladen</li>
      <li>Beim Aufruf der GitLab-Website erhält der Gast eine Liste aller Formate aller Terminologien mit der Möglichkeit, sie herunterzuladen</li>
      <li>Durch die Verwendung von REST-Operationen für FHIR&reg; ValueSet- oder CodeSystem-Ressourcen werden die Terminologien von einer Maschine abgerufen</li>
      <li>Beim Betrieb mit der GitLab REST API werden die Terminologien von einer Maschine abgerufen</li>
    </ol>
  </li>
  <li><strong>Erweiterungen:</strong>
    <ul>
      <li>Eine Validierung von Konzepten in ValueSet- oder CodeSystem-Ressourcen ist mit <code class="language-plaintext highlighter-rouge">$validate-code</code> möglich.</li>
      <li>Ein Hierarchiestatus zwischen zwei Konzepten in einem CodeSystem ist durch <code class="language-plaintext highlighter-rouge">$subsumes</code> möglich.</li>
      <li>Eine detaillierte Ansicht eines Konzepts in einem CodeSystem ist mit <code class="language-plaintext highlighter-rouge">$lookup</code> möglich.</li>
    </ul>
  </li>
  <li><strong>Software:</strong>
    <ul>
      <li>Ein Browser oder REST-Client</li>
    </ul>
  </li>
  <li><strong>Hardware:</strong>
    <ul>
      <li>Client zum Durchsuchen oder Senden von REST-Anfragen</li>
    </ul>
  </li>
  <li><strong>Dienste:</strong>
    <ul>
      <li>GitLab für die Veröffentlichung von Terminologien</li>
      <li>ein FHIR&reg;-Server für REST-Anfragen</li>
    </ul>
  </li>
</ol>

<h4 id="4-crud-und-übertragung-einer-terminologie-an-gitlab">#4 CRUD und Übertragung einer Terminologie an GitLab</h4>

<ol>
  <li><strong>Akteure:</strong>
    <ul>
      <li>Entwickler (Mensch)</li>
      <li>Dienst (Maschine)</li>
    </ul>
  </li>
  <li><strong>Kurzbeschreibung:</strong> Eine neue Terminologiedatei wird erstellt oder bearbeitet und an das GitLab-Projekt übergeben</li>
  <li><strong>Postconditions:</strong>
    <ol>
      <li><strong>Minimalgarantien:</strong>
        <ul>
          <li>eine Rückmeldung, was bei dem Commit oder Push falsch gelaufen ist</li>
        </ul>
      </li>
      <li><strong>Erfolgsgarantien:</strong>
        <ul>
          <li>Die neue, bearbeitete oder als gelöscht gekennzeichnete Terminologiedatei wird im TerminoloGit GitLab Projekt veröffentlicht. Die CI/CD-Pipeline wird automatisch oder manuell angestoßen</li>
        </ul>
      </li>
    </ol>
  </li>
  <li><strong>Voraussetzungen:</strong>
    <ul>
      <li>Das TerminoloGit GitLab Projekt existiert</li>
      <li>Ein lokaler Git-Client und ein Editor sind auf einem Client installiert oder es wird eine WebIDE von GitLab verwendet</li>
    </ul>
  </li>
  <li><strong>Auslöser:</strong>
    <ul>
      <li>Eine Terminologie muss erstellt oder aktualisiert werden</li>
    </ul>
  </li>
  <li><strong>Grundlegender Ablauf:</strong>
    <ol>
      <li>Mit einem Editor (z.B. Notepad++, Visual Studio Code) oder einer WebIDE wird eine Terminologiedatei im lokalen Git-Repository erstellt, aktualisiert oder gelöscht, indem der Status auf retired gesetzt wird.</li>
      <li>In Ihrem lokalen Git-Client wird ein neuer Commit erstellt und an das entfernte TerminoloGit-Repository übertragen</li>
    </ol>
  </li>
  <li><strong>Erweiterungen:</strong>
    <ul>
      <li>Ein Branching neben dem Standardbranch könnte darauf hinweisen, dass eine neue Übergabe zu Test- oder Genehmigungszwecken durchgeführt wird. In diesem Fall ist das CI/CD von GitLab das gleiche wie für den Standardbranch, mit dem einzigen Unterschied, dass das Ergebnis nur auf einer separaten Seite sichtbar ist.</li>
    </ul>
  </li>
  <li><strong>Software:</strong>
    <ul>
      <li>ein lokaler Git-Client oder ein Browser</li>
      <li>ein Editor (z. B. Notepad++, Visual Studio Code) oder ein Browser</li>
    </ul>
  </li>
  <li><strong>Hardware:</strong>
    <ul>
      <li>Client für die Bearbeitung von Textdateien und Git</li>
    </ul>
  </li>
  <li><strong>Dienste:</strong>
    <ul>
      <li>GitLab für die Veröffentlichung von Terminologien</li>
    </ul>
  </li>
</ol>

<h4 id="5-kontinuierliche-lieferung-an-fhir-ig-und-fhir-tx">#5 Kontinuierliche Lieferung an FHIR&reg; IG und FHIR-tx</h4>

<ol>
  <li><strong>Akteure:</strong>
    <ul>
      <li>Service (Maschine)</li>
    </ul>
  </li>
  <li><strong>Kurzbeschreibung:</strong> Eine neue oder bearbeitete Terminologiedatei wird von einem Runner vom GitLab-Service in andere Terminologieformate konvertiert</li>
  <li><strong>Postconditions:</strong>
    <ol>
      <li><strong>Minimalgarantien:</strong>
        <ul>
          <li>Es liegt ein CI/CD-Fehler vor</li>
        </ul>
      </li>
      <li><strong>Erfolgsgarantien:</strong>
        <ul>
          <li>Es wird von MaLaC-CT konvertiert, vom IGVer versioniert, vom IG Publisher gerendert und auf einer Gitlab-Seite angezeigt</li>
        </ul>
      </li>
    </ol>
  </li>
  <li><strong>Voraussetzungen:</strong>
    <ul>
      <li>Das TerminoloGit GitLab CI/CD ist konfiguriert</li>
    </ul>
  </li>
  <li><strong>Auslöser:</strong>
    <ul>
      <li>Eine Terminologie wurde hinzugefügt oder aktualisiert</li>
    </ul>
  </li>
  <li><strong>Grundlegender Ablauf:</strong>
    <ol>
      <li>Ein GitLab-Runner für das CI/CD wird gestartet, weil ein neuer Commit gepusht wurde</li>
      <li>der Runner konvertiert die Terminologie in alle anderen Dateiformate</li>
      <li>wenn die Konvertierung erfolgreich war, wird der IGVer und anschließend der IG Publisher gestartet</li>
      <li>wenn der IG Publisher bestanden hat, wird der Upload zu FHIR-tx gestartet</li>
    </ol>
  </li>
  <li><strong>Erweiterungen:</strong> keine</li>
  <li><strong>Software:</strong> keine</li>
  <li><strong>Hardware:</strong> keine</li>
  <li><strong>Dienste:</strong>
    <ul>
      <li>GitLab für die Ausführung des Läufers</li>
    </ul>
  </li>
</ol>

<h4 id="6-in-branches-schieben-genehmigen-und-in-master-zusammenführen">#6 In Branches schieben, genehmigen und in Master zusammenführen</h4>

<ol>
  <li><strong>Akteure:</strong>
    <ul>
      <li>Entwickler (Mensch)</li>
      <li>Dienst (Maschine)</li>
    </ul>
  </li>
  <li><strong>Kurzbeschreibung:</strong> Neue oder bearbeitete Terminologiedateien werden in einen Branch übertragen und für eine Zusammenführung mit Master angefordert.</li>
  <li><strong>Postconditions:</strong>
    <ol>
      <li><strong>Minimalgarantien:</strong>
        <ul>
          <li>Wenn eine Korrektur erforderlich ist:
            <ul>
              <li>Warten, dass der Entwickler mit einem neuen Commit korrigiert</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><strong>Erfolgsgarantien:</strong>
        <ul>
          <li>ein Branch wurde nach Master zusammengeführt</li>
        </ul>
      </li>
    </ol>
  </li>
  <li><strong>Voraussetzungen:</strong>
    <ul>
      <li>Das TerminoloGit-Projekt ist für das Branching konfiguriert</li>
    </ul>
  </li>
  <li><strong>Auslöser:</strong>
    <ul>
      <li>Eine Terminologie wurde zu einem Branch hinzugefügt oder aktualisiert</li>
    </ul>
  </li>
  <li><strong>Grundlegender Ablauf:</strong>
    <ol>
      <li>der Entwickler erstellt einen Branch für seine Commits</li>
      <li>der Entwickler erstellt einen Commit mit seinen Änderungen</li>
      <li>der Entwickler beantragt eine Zusammenführung mit dem Master oder einem anderen geschützten Branch</li>
      <li>ein anderer Entwickler kommentiert die Anfrage und verlangt Änderungen oder akzeptiert diesen Branch</li>
      <li>der Entwickler führt ihn mit dem Master zusammen</li>
    </ol>
  </li>
  <li><strong>Erweiterungen:</strong> keine</li>
  <li><strong>Software:</strong>
    <ul>
      <li>ein Browser</li>
    </ul>
  </li>
  <li><strong>Hardware:</strong>
    <ul>
      <li>eine Maschine mit einem Browser</li>
    </ul>
  </li>
  <li><strong>Dienste:</strong>
    <ul>
      <li>GitLab zum Ausführen des Läufers</li>
    </ul>
  </li>
</ol>

<h4 id="bigpicture">BigPicture</h4>

<p>Das folgende BigPicture zeigt die verschiedenen Möglichkeiten der Verwendung von TerminoloGit, einschließlich der möglichen kaskadierenden Systemabhängigkeiten.</p>

<p><a name="l1557">​</a><a href="input/images/BigPicture.drawio.png"><a name="l1558">​</a><img src="input/images/BigPicture.drawio.png" alt="big-picture" style="width: 100%"/></a></p>

<p>Die kaskadierende Synchronisierung zwischen TerminoloGit-Instanzen wird durch Merge Requests empfohlen. Sie können Merge Requests zu und von jedem geforketen Projekt erstellen, Sie können sogar <a href="https://docs.gitlab.com/ee/api/projects.html#create-a-forked-fromto-relation-between-existing-projects">nachträglich Fork-Relationen hinzufügen</a>. Beachten Sie, dass Sie bei Fehlern während des Posts (z. B. einem internen Serverfehler von 500) die alte Fork-Relation vorher <a href="https://docs.gitlab.com/ee/api/projects.html#delete-an-existing-forked-from-relationship">löschen</a> müssen.
Sie können auch die Git-Funktion Submodule oder Subtree verwenden.
Darüber hinaus ist es möglich, die Synchronisation über CI/CD im eigenen System oder über “Mirroring”- oder “Sync”-Funktionen zu automatisieren, wenn Sie selbst keine Anpassungen/Erweiterungen an den Terminologien vornehmen.</p>

<p>Die kaskadierende Synchronisation zwischen einer TerminoloGit-Instanz und einer tergi-Instanz muss in Ihrer TerminoloGit-Instanz eingerichtet werden, siehe <a href="https://gitlab.com/elga-gmbh/terminologit-tergi">das README im tergi-Repo</a> für weitere Informationen.</p>




</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script src="assets/js/window-hash.js" type="text/javascript"> </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &copy; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="null">ELGA GmbH</a>.  Package austrian-terminology-server#2.7.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4B/">FHIR 4.3.0</a>. Generated <span title="Fri, Apr 26, 2024 06:59+0000">2024-04-26</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
          </span>
        </p>
      </div>    <!-- /inner-wrapper -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard-btn.js" type="text/javascript"> </script>
  <script src="assets/js/anchor-hover.js" type="text/javascript"> </script>
  
    <!-- Analytics Below
  ================================================== -->
  </body>
</html>