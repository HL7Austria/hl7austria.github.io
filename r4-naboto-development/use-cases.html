<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>NABOTOPROFILES\Use Cases - FHIR® v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"2"}
    h3,h4,h5,h6{--heading-prefix:"2"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- at-fhir-ig-template begin -->
        <div class="row">
          <div class="col-1">
            <img id="header-logo" src="assets/images/hl7atlogo.png"/>
          </div>
          <div class="col-11">
        <!-- at-fhir-ig-template end -->
            <!-- Placeholder for child template header declarations -->

            
            <div id="ig-status">
              <p>
                <span style="font-size:12pt;font-weight:bold"></span><br/>
                <span class="label label-info">0.1.4 - draft</span>
              </p>
            </div>
        <!-- at-fhir-ig-template begin -->
          </div>
        </div>
        <!-- at-fhir-ig-template end -->
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR®</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">Home</a>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Use Cases</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!-- at-fhir-ig-template begin -->
  <div class="alert alert-warning" role="alert">
    <!--ReleaseHeader--><p id="publish-box">NabotoImplementationGuide - Local Development build (v0.1.4). See the <a href="http://fhir.naboto.com/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  </div>
  <!-- at-fhir-ig-template end -->
  <h2>Use Cases</h2>
  









    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#patients" id="markdown-toc-patients">Patients</a></li>
  <li><a href="#appointments" id="markdown-toc-appointments">Appointments</a></li>
  <li><a href="#handling-ids-between-systems" id="markdown-toc-handling-ids-between-systems">Handling ids between systems</a></li>
</ul>

</div>
<p>This section explains what you can do with the API described by this IG.
In the current version the API is supposed only to be used for one-way synchonization. Therefor you can export data from your system to Naboto, but not the other way around. In the future the API is likely to be extended to also provide GET endpoints and allow synchronization of data from Naboto to your AIS/KIS (from here on called <em>your system</em>).</p>

<h3 id="patients">Patients</h3>
<p>With this API patients can be created and updated in Naboto using the <a href="StructureDefinition-naboto-patient.html">Naboto Patient Profile</a> data structure. Please note that each patient is required to have either an email address or a mobile number (see <a href="StructureDefinition-naboto-patient-definitions.html#Patient.telecom">Patient.telecom</a>). This is necessary because Patients will receive messages containing links for joining video calls.</p>

<p><strong><a id="patient-url"></a>Patient-URL:</strong> <code class="highlighter-rouge">[base-url]/patient</code></p>

<h4 id="creating-a-new-patient">Creating a new Patient</h4>
<p>For creating a new patient send a <code class="highlighter-rouge">POST</code> request to the <a href="#patient-url">Patient-URL</a> containing a valid <a href="StructureDefinition-naboto-patient.html">NabotoPatient</a> JSON object (see <a href="Patient-NabotoPatientExample.json.html">NabotoPatientExample</a>).</p>

<h4 id="updating-a-patient">Updating a Patient</h4>
<p>For updating an existing Patient send a <code class="highlighter-rouge">PUT</code> request to the <a href="#patient-url">Patient-URL</a> containing a valid <a href="StructureDefinition-naboto-patient.html">NabotoPatient</a> JSON object (see <a href="Patient-NabotoPatientExample.json.html">NabotoPatientExample</a>).</p>

<p>Whenever a Patient which was created by your software through this API is updated in your system, those changes should also be applied to the patient in the Naboto System, if any of the relevant data (the fields from <a href="StructureDefinition-naboto-patient.html">NabotoPatient</a>) has changed. Patients created through the API can’t be edited inside the Naboto GUI in order to prevent conflicting data.</p>

<h3 id="appointments">Appointments</h3>
<p>With this API Appointments can be created and updated in Naboto using the <a href="StructureDefinition-naboto-appointment.html">Naboto Appointment Profile</a> data structure.</p>

<p><strong>Note: Currently only video call Appointments can be created in <a href="https://visit-e.at">Visit-e</a>.</strong></p>

<p><strong><a id="appointment-url"></a>Appointment-URL:</strong> <code class="highlighter-rouge">[base-url]/appointment</code></p>

<h4 id="creating-a-new-appointment">Creating a new Appointment</h4>
<p>For creating a new Appointment send a <code class="highlighter-rouge">POST</code> request to the <a href="#appointment-url">Appointment-URL</a> containing a valid <a href="StructureDefinition-naboto-appointment.html">NabotoAppointment</a> JSON object (see <a href="Appointment-NabotoAppointmentExample.json.html">NabotoAppointmentExample</a>).
Only appointments that already have been accepted by their participants should be synchronized to our server.</p>

<h4 id="updating-an-appointment">Updating an Appointment</h4>
<p>For updating an existing Appointment send a <code class="highlighter-rouge">PUT</code> request to the <a href="#appointment-url">Appointment-URL</a> containing a valid <a href="StructureDefinition-naboto-appointment.html">NabotoAppointment</a> JSON object (see <a href="Appointment-NabotoAppointmentExample.json.html">NabotoAppointmentExample</a>).</p>

<p>Whenever an Appointment which was created by your software through this API is updated in your system, those changes should also be applied to the appointment in the Naboto System, if any of the relevant data (the fields from <a href="StructureDefinition-naboto-appointment.html">NabotoAppointment</a>) has changed. Appointments created through the API can’t be edited inside the Naboto GUI in order to prevent conflicting data.
Naboto periodically simulates the expected start times of Appointments for the entire current day and communicates delays to Patients. It is important that changes in the <a href="StructureDefinition-naboto-appointment-definitions.html#Appointment.status">status</a> of an Appointment are updated in Naboto as soon as they occur in your system.</p>

<h4 id="appointment-with-video-call">Appointment with video call</h4>
<p>If you want to create an Appointment that is supposed to be conducted as a video call, you need to use the <a href="StructureDefinition-virtual-service-contact-detail.html">VirtualServiceContactDetail</a> extension. If the extension is present on any of the participants, the appointment is concidered to take place as a video call. The attributes <code class="highlighter-rouge">url</code> and <code class="highlighter-rouge">sessionKey</code> are generated by the server and therefor ignored during create and update operations.</p>

<p>Example <a href="StructureDefinition-virtual-service-contact-detail.html">VirtualServiceContactDetail</a> for creating an Appointment for a video consultation:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"extension"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"extension"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"channelType"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"valueCoding"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"system"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.naboto.com/4.0.1/NabotoProfiles/CodeSystem/naboto-vidcall-channel-type"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"visit-e"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hl7.at/fhir/NABOTO/R4/StructureDefinition/virtual-service-contact-detail"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Example <a href="StructureDefinition-virtual-service-contact-detail.html">VirtualServiceContactDetail</a> for with automatically assigned URL for video consultation:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"extension"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"extension"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"channelType"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"valueCoding"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"system"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.naboto.com/4.0.1/NabotoProfiles/CodeSystem/naboto-vidcall-channel-type"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"visit-e"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"valueUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://patient.visit-e.at/1234567890"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"sessionKey"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"valueString"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hl7.at/fhir/NABOTO/R4/StructureDefinition/virtual-service-contact-detail"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<p>Please be aware that each participant is assigned a personal <code class="highlighter-rouge">address</code> and <code class="highlighter-rouge">sessionKey</code>. They serve as <strong>access keys</strong> for joining the video calls and should be protected in your application accordingly.</p>

<h4 id="automated-messages-for-appointments">Automated messages for appointments</h4>
<p>The server automatically creates messages for the participating Patient and Practitioner (if the Practitioner enabled this in their account settings).
For the patient the messages are sent either as Emails or SMS depending on which <a href="StructureDefinition-naboto-patient-definitions.html#Patient.telecom">ContactPoint</a> is present for the Patient.
The following types of messages are sent to Patients:</p>
<ul>
  <li><strong>Appointment confirmed:</strong> A confirmation sent when Appointment was booked successfully.</li>
  <li><strong>Appointment postponed:</strong> A confirmation is sent when Appointment was postponed successfully.</li>
  <li><strong>Appointment reminder:</strong> A reminder typically sent to the Patient 24 hours before the Appointment is scheduled to start.</li>
  <li><strong>Check-in invitation:</strong> A short term reminder that the Appointment is about to start soon. Typically sent 15 minutes before the Appointment actually starts.</li>
</ul>

<h3 id="handling-ids-between-systems">Handling ids between systems</h3>
<p>For inter-service identification of entities (e.g. patient, appointment) an <a href="https://www.hl7.org/fhir/datatypes.html#Identifier">identifier</a> containing the <code class="highlighter-rouge">id</code> of the entity <strong>in your system</strong> should be used.</p>

<p><strong>Example identifier:</strong>
An identifier that refers to a patient with id 12345 on a fictional system</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"use"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"official"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"coding"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="nl">"system"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://terminology.hl7.org/CodeSystem/v2-0203"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PI"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Patient internal identifier"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"system"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-system.xy/Patients"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assigner"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Ein GDA in Österreich"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The <a href="https://www.hl7.org/fhir/resource.html#id"><code class="highlighter-rouge">id</code> attribute</a> for the scope of this API refers to the <code class="highlighter-rouge">id</code> of an entity assigned to it by the Naboto system. For <strong>creating</strong> a new entity it should not be present in the request object, since the entity doesn’t exist in the Naboto database before creation. The response will contain an automatically assigned <code class="highlighter-rouge">id</code>, which should be persisted in your system so you can later reference the same entity in an update operation.</p>

<p>When <strong>updating</strong> an entity the <a href="https://www.hl7.org/fhir/resource.html#id"><code class="highlighter-rouge">id</code> attribute</a> must be present in the request object.</p>




</div>
</div>  <!-- /inner-wrapper -->
</div>  <!-- /row -->
</div>  <!-- /container -->
</div>  <!-- /segment-content -->

<script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
<script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

<script type="text/javascript">
$(document).ready(function(){
if(window.location.hash != "") {
    $('a[href="' + window.location.hash + '"]').click()
}
});
</script>
<a name="bottom"> </a>
<div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
<div class="container">  <!-- container -->

<div class="inner-wrapper">
  <p>
    IG &#169; 2022+ <a style="color:var(--footer-hyperlink-text-color)" href="http://naboto.com">Naboto Software GmbH</a>.  Package NabotoProfiles#0.1.4 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR® 4.0.1</a>. Generated <span title="Wed, Nov 2, 2022 13:31+0000">2022-11-02</span>
    <br/>
    <span style="color: var(--footer-highlight-text-color)"></span>
                Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
    </span>
  </p>
</div>  <!-- /inner-wrapper -->
</div>  <!-- /container -->
</div>  <!-- /segment-footer -->

<div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
<div class="container">  <!-- container -->
</div>  <!-- /container -->
</div>  <!-- /segment-post-footer -->

<!-- JS and analytics only. -->
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
<script type="text/javascript" src="assets/js/respond.min.js"> </script>
<script type="text/javascript" src="assets/js/anchor.min.js"> </script>
<script>anchors.options.visible = 'hover'
anchors.add()</script>

<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->



<!-- / feedback form  -->

<!-- Analytics Below
================================================== -->
</body>
</html>

